<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=contain"><title>Serializing Data with Sequelize – Riipen Engineering – Medium</title><link rel="canonical" href="https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a"><meta name="title" content="Serializing Data with Sequelize – Riipen Engineering – Medium"><meta name="referrer" content="unsafe-url"><meta name="description" content="At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data. A key part of serving this data, as with any API, is transforming what is in your data store, to data in…"><meta name="theme-color" content="#000000"><meta property="og:title" content="Serializing Data with Sequelize – Riipen Engineering – Medium"><meta property="twitter:title" content="Serializing Data with Sequelize – Riipen Engineering – Medium"><meta property="og:url" content="https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*xzAyItlS7rT6rvNM54QpiQ.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data."><meta name="twitter:description" content="At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data."><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*xzAyItlS7rT6rvNM54QpiQ.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@jordanell"><meta property="author" content="Jordan Ell"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@jordanell"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2018-02-01T23:44:24.301Z"><meta name="twitter:creator" content="@jordanelltweets"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="6 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/6c3a9633797a"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/6c3a9633797a"><meta property="al:android:url" content="medium://p/6c3a9633797a"><meta property="al:web:url" content="https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/6c3a9633797a" /><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":512,"height":203,"url":"https://cdn-images-1.medium.com/max/512/1*xzAyItlS7rT6rvNM54QpiQ.png"},"url":"https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a","dateCreated":"2018-02-01T23:44:24.301Z","datePublished":"2018-02-01T23:44:24.301Z","dateModified":"2018-06-12T19:27:16.556Z","headline":"Serializing Data with Sequelize","name":"Serializing Data with Sequelize","articleId":"6c3a9633797a","thumbnailUrl":"https://cdn-images-1.medium.com/max/512/1*xzAyItlS7rT6rvNM54QpiQ.png","keywords":["Tag:JavaScript","Tag:Sequelize","Tag:Serialization","Tag:Nodejs","Tag:Software Development","Publication:riipen-engineering","LockedPostSource:0","Elevated:false","LayerCake:0"],"author":{"@type":"Person","name":"Jordan Ell","url":"https://medium.com/@jordanell"},"creator":["Jordan Ell"],"publisher":{"@type":"Organization","name":"Riipen Engineering","url":"https://medium.com/riipen-engineering","logo":{"@type":"ImageObject","width":160,"height":60,"url":"https://cdn-images-1.medium.com/max/160/1*c-CjHv33obLOtwHalj1Vfg.png"}},"mainEntityOfPage":"https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a"}</script><meta name="parsely-link" content="https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a"><link rel="stylesheet" type="text/css" class="js-glyph-" id="glyph-8" href="https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css" /><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-branding-base.nTcXGy-9zpH-9YDPoN5G0g.css"><script>!function(n,e){var t,o,i,c=[],f={passive:!0,capture:!0},r=new Date,a="pointerup",u="pointercancel";function p(n,c){t||(t=c,o=n,i=new Date,w(e),s())}function s(){o>=0&&o<i-r&&(c.forEach(function(n){n(o,t)}),c=[])}function l(t){if(t.cancelable){var o=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,o){function i(){p(t,o),r()}function c(){r()}function r(){e(a,i,f),e(u,c,f)}n(a,i,f),n(u,c,f)}(o,t):p(o,t)}}function w(n){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(e){n(e,l,f)})}w(n),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){c.push(n),s()}}(addEventListener,removeEventListener);</script><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script><script async src="https://www.google-analytics.com/analytics.js"></script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*lewofgnNzvPacnu3ZECO-A.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*lewofgnNzvPacnu3ZECO-A.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*lewofgnNzvPacnu3ZECO-A.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*lewofgnNzvPacnu3ZECO-A.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope class=" postShowScreen browser-chrome os-mac is-withMagicUnderlines v-glyph v-glyph--m2 is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar u-textColorTransparentWhiteDarker u-tintBgColor u-tintSpectrum"><div class="branch-journeys-top"></div><div class="js-metabarMiddle metabar-inner u-marginAuto u-maxWidth1032 u-flexCenter u-justifyContentSpaceBetween u-height65 u-xs-height56 u-paddingHorizontal20"><div class="metabar-block u-flex1 u-flexCenter"><div class="u-xs-hide js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-fillTransparentBlackDarker u-flex0 u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-flex0 u-flexCenter u-paddingTop0"><svg class="svgIcon-use" width="45" height="45" ><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="u-xs-show js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-fillTransparentBlackDarker u-flex0 u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-flex0 u-flexCenter u-paddingTop0"><svg class="svgIcon-use" width="45" height="45" ><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="u-flexCenter u-height65 u-xs-height56"><span class="u-inlineBlock u-height28 u-xs-height24 u-verticalAlignTop u-marginRight20 u-marginLeft15 u-borderRightTransparentWhiteLighter"></span></div><div class="u-flexCenter u-height65 u-xs-height56 u-marginRight18"><a class="js-collectionLogoOrName u-uiTextBold u-fontSize18 u-lineHeightTightest u-xs-fontSize22" href="https://medium.com/riipen-engineering?source=logo-851b404bd899---6f9d9cd1d7d4"><img height="36" width="96" src="https://cdn-images-1.medium.com/letterbox/96/36/50/50/1*c-CjHv33obLOtwHalj1Vfg.png?source=logoAvatar-851b404bd899---6f9d9cd1d7d4" alt="Riipen Engineering" /></a></div><div class="u-flexCenter u-height65 u-xs-height56 u-md-hide"><div class="buttonSet"><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="toggle-follow-collection" data-action-source="----6f9d9cd1d7d4----------------------follow_header" data-collection-id="6f9d9cd1d7d4"><span class="button-label  js-buttonLabel">Follow</span></button></div></div></div><div class="metabar-block u-flex0 u-flexCenter"><div class="u-flexCenter u-height65 u-xs-height56"><div class="buttonSet buttonSet--wide u-lineHeightInherit"><label class="button button--small button--chromeless button--withIcon button--withSvgIcon inputGroup u-sm-hide metabar-predictiveSearch u-baseColor--buttonNormal u-baseColor--placeholderNormal" title="Search"><span class="svgIcon svgIcon--search svgIcon--25px u-baseColor--iconLight"><svg class="svgIcon-use" width="25" height="25" ><path d="M20.067 18.933l-4.157-4.157a6 6 0 1 0-.884.884l4.157 4.157a.624.624 0 1 0 .884-.884zM6.5 11c0-2.62 2.13-4.75 4.75-4.75S16 8.38 16 11s-2.13 4.75-4.75 4.75S6.5 13.62 6.5 11z"/></svg></span><input class="js-predictiveSearchInput textInput textInput--rounded textInput--darkText u-baseColor--textNormal textInput--transparent" type="search" placeholder="Search" required="true" data-collection-id="6f9d9cd1d7d4" /></label><a class="button button--small button--chromeless u-sm-show is-inSiteNavBar u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--chromeless u-xs-top1"   href="https://medium.com/riipen-engineering/search" title="Search" aria-label="Search"><span class="button-defaultState"><span class="svgIcon svgIcon--search svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" ><path d="M20.067 18.933l-4.157-4.157a6 6 0 1 0-.884.884l4.157 4.157a.624.624 0 1 0 .884-.884zM6.5 11c0-2.62 2.13-4.75 4.75-4.75S16 8.38 16 11s-2.13 4.75-4.75 4.75S6.5 13.62 6.5 11z"/></svg></span></span></a><button class="button button--small button--chromeless is-inSiteNavBar u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--activity js-notificationsButton u-marginRight16 u-xs-marginRight10 u-lineHeight0 u-size25x25 is-styleLight"  title="Notifications" aria-label="Notifications" data-action="open-notifications"><span class="svgIcon svgIcon--bell svgIcon--25px"><svg class="svgIcon-use" width="25" height="25"  viewBox="-293 409 25 25"><path d="M-273.327 423.67l-1.673-1.52v-3.646a5.5 5.5 0 0 0-6.04-5.474c-2.86.273-4.96 2.838-4.96 5.71v3.41l-1.68 1.553c-.204.19-.32.456-.32.734V427a1 1 0 0 0 1 1h3.49a3.079 3.079 0 0 0 3.01 2.45 3.08 3.08 0 0 0 3.01-2.45h3.49a1 1 0 0 0 1-1v-2.59c0-.28-.12-.55-.327-.74zm-7.173 5.63c-.842 0-1.55-.546-1.812-1.3h3.624a1.92 1.92 0 0 1-1.812 1.3zm6.35-2.45h-12.7v-2.347l1.63-1.51c.236-.216.37-.522.37-.843v-3.41c0-2.35 1.72-4.356 3.92-4.565a4.353 4.353 0 0 1 4.78 4.33v3.645c0 .324.137.633.376.85l1.624 1.477v2.373z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal is-inSiteNavBar js-userActions"  aria-haspopup="true" data-action="open-userActions"><div class="avatar"><img  src="https://cdn-images-1.medium.com/fit/c/32/32/0*1MKgUUsIK54YjW3q" class="avatar-image avatar-image--icon" alt="Ashley Donald"></div></button></div></div></div></div><div class="metabar-inner u-marginAuto u-maxWidth1032 js-metabarBottom"><nav role="navigation" class="metabar-block metabar-block--below u-overflowHidden u-height44"><div class="u-md-hide"><ul class="u-textAlignLeft u-noWrap u-overflowX u-paddingBottom100 u-sm-paddingLeft20 u-sm-paddingRight20 js-collectionNavItems"><li class="metabar-navItem js-collectionNavItem  u-uiTextMedium u-fontSize14 u-inlineBlock u-textUppercase u-letterSpacing003 u-textColorNormal u-xs-paddingRight12 u-xs-marginRight0 u-paddingTop5 u-xs-paddingTop10"><a class="link link--darken u-accentColor--textDarken link--noUnderline u-baseColor--link js-navItemLink"   href="https://medium.com/riipen-engineering/archive">All Stories</a></li><li class="metabar-navItem js-collectionNavItem  u-uiTextMedium u-fontSize14 u-inlineBlock u-textUppercase u-letterSpacing003 u-textColorNormal u-xs-paddingRight12 u-xs-marginRight0 u-paddingTop5 u-xs-paddingTop10"><a class="link link--darken u-accentColor--textDarken link--noUnderline u-baseColor--link js-navItemLink"   href="https://medium.com/riipen-engineering/about">About</a></li></ul></div><div class="u-flex u-md-show u-xs-height39"><ul class="u-textAlignLeft u-noWrap u-overflowX u-paddingBottom100 u-sm-paddingLeft20 u-sm-paddingRight20 js-collectionNavItems"><li class="metabar-navItem js-collectionNavItem  u-uiTextMedium u-fontSize14 u-inlineBlock u-textUppercase u-letterSpacing003 u-textColorNormal u-xs-paddingRight12 u-xs-marginRight0 u-paddingTop5 u-xs-paddingTop10"><a class="link link--darken u-accentColor--textDarken link--noUnderline u-baseColor--link js-navItemLink"   href="https://medium.com/riipen-engineering/archive">All Stories</a></li><li class="metabar-navItem js-collectionNavItem  u-uiTextMedium u-fontSize14 u-inlineBlock u-textUppercase u-letterSpacing003 u-textColorNormal u-xs-paddingRight12 u-xs-marginRight0 u-paddingTop5 u-xs-paddingTop10"><a class="link link--darken u-accentColor--textDarken link--noUnderline u-baseColor--link js-navItemLink"   href="https://medium.com/riipen-engineering/about">About</a></li></ul><div class="u-flexCenter u-height50 u-xs-height39 u-marginRight20 u-marginLeft20 u-flex1 u-textAlignRight"><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="toggle-follow-collection" data-action-source="----6f9d9cd1d7d4----------------------follow_header" data-collection-id="6f9d9cd1d7d4"><span class="button-label  js-buttonLabel">Follow</span></button></div></div></nav></div></div><div class="metabar metabar--spacer js-metabarSpacer u-tintBgColor  u-height105 u-xs-height95"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full is-withAccentColors"  lang="en"><div class="postArticle-content js-postField js-notesSource js-trackPostScrolls"  data-post-id="6c3a9633797a" data-source="post_page" data-collection-id="6f9d9cd1d7d4" data-tracking-context="postPage"><section name="d267" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="1947" id="1947" class="graf graf--h3 graf--leading graf--title">Serializing Data with Sequelize</h1><div class="uiScale uiScale-ui--regular uiScale-caption--regular u-flexCenter u-marginVertical24 u-fontSize15 js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar"   href="https://medium.com/@jordanell?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="5e1040ba2b3f" data-action-type="hover" data-user-id="5e1040ba2b3f" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/50/50/1*9IAyc71HnTtzIZEqjXwebQ.png" class="avatar-image u-size50x50" alt="Go to the profile of Jordan Ell"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-paddingBottom3"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker"   href="https://medium.com/@jordanell" data-action="show-user-card" data-action-value="5e1040ba2b3f" data-action-type="hover" data-user-id="5e1040ba2b3f" dir="auto">Jordan Ell</a><span class="followState js-followState" data-user-id="5e1040ba2b3f"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide"  data-action="toggle-block-user" data-action-value="5e1040ba2b3f" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest button--dark u-noUserSelect button--withChrome u-accentColor--buttonDark button--follow js-followButton u-marginLeft10 u-xs-hide"  data-action="toggle-subscribe-user" data-action-value="5e1040ba2b3f" data-action-source="post_header_lockup-5e1040ba2b3f-------------------------follow_byline" data-subscribe-source="post_header_lockup" data-follow-context-entity-id="6c3a9633797a"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption u-noWrapWithEllipsis js-testPostMetaInlineSupplemental"><time datetime="2018-02-01T23:44:24.301Z">Feb 1, 2018</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="6 min read"></span></div></div></div><figure name="2862" id="2862" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 512px; max-height: 203px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 39.6%;"></div><div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*xzAyItlS7rT6rvNM54QpiQ.png" data-width="512" data-height="203"><img src="https://cdn-images-1.medium.com/freeze/max/30/1*xzAyItlS7rT6rvNM54QpiQ.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/800/1*xzAyItlS7rT6rvNM54QpiQ.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/800/1*xzAyItlS7rT6rvNM54QpiQ.png"></noscript></div></div></figure><p name="ecaa" id="ecaa" class="graf graf--p graf-after--figure">At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data. A key part of serving this data, as with any API, is transforming what is in your data store, to data in memory, then to a response for the client requesting the data. An object relational mapper (ORM) is used for going from data store to in memory (we use <a href="http://docs.sequelizejs.com/" data-href="http://docs.sequelizejs.com/" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">Sequelize</a>), but the transformation from your ORM to what is actually presented to a client is often overlooked.</p><p name="1ba5" id="1ba5" class="graf graf--p graf-after--p">A naive approach to this problem is simply to run a <code class="markup--code markup--p-code">.toJSON()</code> (or equivalent) function on your ORM instance to get a JSON object and then just respond with that entity. You have effectively serialized exactly what is in your database and responded to the client with it. But lets consider some cases which may cause you to rethink this approach:</p><ul class="postList"><li name="fd1e" id="fd1e" class="graf graf--li graf-after--p">You have data attributes you don’t want exposed to the client</li><li name="60b8" id="60b8" class="graf graf--li graf-after--li">You want to handle <code class="markup--code markup--li-code">null</code> or <code class="markup--code markup--li-code">undefined</code> values in a special way</li><li name="bc6c" id="bc6c" class="graf graf--li graf-after--li">You want to add / remove attributes to your response based on user permissions</li><li name="004e" id="004e" class="graf graf--li graf-after--li">You want to have nested data in your response (not strictly REST-ful, but you may need this)</li></ul><p name="6129" id="6129" class="graf graf--p graf-after--li graf--trailing">To handle all of these cases, you will need custom serialization logic within your API. That is to say, a custom way of transforming the data you are storing, to the data you present to your clients. Let’s look at some simple code and architecture that can help handle these cases.</p></div></div></section><section name="3451" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="f13f" id="f13f" class="graf graf--p graf--leading">For the rest of this article, assume we are running an <a href="https://expressjs.com/" data-href="https://expressjs.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Express</a> web server and using <a href="http://docs.sequelizejs.com/" data-href="http://docs.sequelizejs.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Sequelize</a> as our ORM.</p><p name="9ec9" id="9ec9" class="graf graf--p graf-after--p">Let’s take a bottom up approach and start with how we would serialize a particular attribute of any data model we have.</p><pre name="481a" id="481a" class="graf graf--pre graf-after--p">// src/helper/serialize/attribute.js</pre><pre name="8171" id="8171" class="graf graf--pre graf-after--pre">import moment from &#39;moment&#39;;</pre><pre name="a1be" id="a1be" class="graf graf--pre graf-after--pre">/**<br> * Serialize a single instance attribute<br> *<br> * This function converts JavaScript dates to strings.<br> * options.nullValue may be one of empty, null, or remove<br> *<br> * e.g.<br> *<br> *    attribute(new Date()) === &#39;2017-10-27T16:59:08-07:00&#39;<br> *<br> * <a href="http://twitter.com/param" data-href="http://twitter.com/param" class="markup--anchor markup--pre-anchor" title="Twitter profile for @param" rel="nofollow noopener" target="_blank">@param</a> {Any} attr The attribute value to serialize<br> *<br> * <a href="http://twitter.com/return" data-href="http://twitter.com/return" class="markup--anchor markup--pre-anchor" title="Twitter profile for @return" rel="nofollow noopener" target="_blank">@return</a> {Any} The serialized version of the attribute.<br> */<br>export default async function attribute(attr) {<br>  // Handle date serialization<br>  if (attr instanceof Date) {<br>    return moment(attr).format(&#39;YYYY-MM-DDTHH:mm:ssZ&#39;);<br>  }</pre><pre name="a202" id="a202" class="graf graf--pre graf-after--pre">  // Handle null values<br>  if (attr === null) {<br>    return &#39;&#39;;<br>  }</pre><pre name="f7db" id="f7db" class="graf graf--pre graf-after--pre">  // All other types of serialization<br>  return await attr;<br>}</pre><p name="b738" id="b738" class="graf graf--p graf-after--pre">The above function does one thing, takes an attribute and serializes it. You can see that we have added special logic for dates as well as <code class="markup--code markup--p-code">null</code> values.</p><p name="6bc7" id="6bc7" class="graf graf--p graf-after--p">For dates, we take the store values, and convert it to our favorite date formatted string using <a href="https://momentjs.com/" data-href="https://momentjs.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Moment.js</a>. This ensures that every date we return to the client is formatted exactly the same. Having this consistency, no matter if you are storing pure dates, or date times, will have your clients singing your praise.</p><p name="ebda" id="ebda" class="graf graf--p graf-after--p">For the <code class="markup--code markup--p-code">null</code> values, we have chosen to convert all <code class="markup--code markup--p-code">null</code> values to an empty string for our client to consume. You can see how easy it is with this function to define the exact schema you want for every data type. Now your clients can consume this data in a standardized fashion without having to worry about special edge cases for attributes that are similar yet different.</p><p name="7258" id="7258" class="graf graf--p graf-after--p">Now let’s look at serializing a whole instance worth of attributes.</p><pre name="84ef" id="84ef" class="graf graf--pre graf-after--p">// src/helper/serialize/instance.js</pre><pre name="fc8d" id="fc8d" class="graf graf--pre graf-after--pre">import attribute from &#39;./attribute&#39;;</pre><pre name="8041" id="8041" class="graf graf--pre graf-after--pre">/**<br> * Serialize an instance according to the provided options.<br> *<br> * <a href="http://twitter.com/param" data-href="http://twitter.com/param" class="markup--anchor markup--pre-anchor" title="Twitter profile for @param" rel="nofollow noopener" target="_blank">@param</a> {Object} instance Sequelize instance to be serialized<br> * <a href="http://twitter.com/param" data-href="http://twitter.com/param" class="markup--anchor markup--pre-anchor" title="Twitter profile for @param" rel="nofollow noopener" target="_blank">@param</a> {Object} options Options indicating how to serialize the instance.<br> * <a href="http://twitter.com/param" data-href="http://twitter.com/param" class="markup--anchor markup--pre-anchor" title="Twitter profile for @param" rel="nofollow noopener" target="_blank">@param</a> {[String]} options.attributes A whitelist of attributes to serialize.</pre><pre name="3ccb" id="3ccb" class="graf graf--pre graf-after--pre">* <a href="http://twitter.com/return" data-href="http://twitter.com/return" class="markup--anchor markup--pre-anchor" title="Twitter profile for @return" rel="nofollow noopener" target="_blank">@return</a> {Object} The serialized object<br> */<br>export default async (instance, options = {}) =&gt; {<br>  if (!instance) {<br>    return null;<br>  }</pre><pre name="ac61" id="ac61" class="graf graf--pre graf-after--pre">  const result = {};</pre><pre name="b559" id="b559" class="graf graf--pre graf-after--pre">  // Serialize all attributes<br>  const attributes = options.attributes || [];</pre><pre name="635e" id="635e" class="graf graf--pre graf-after--pre">  for (const attribute of attributes) {<br>    result[attribute] = await attribute(instance[attribute]);<br>  }</pre><pre name="9032" id="9032" class="graf graf--pre graf-after--pre">  return result;<br>};</pre><p name="443f" id="443f" class="graf graf--p graf-after--pre">This method takes care of a lot of use cases for us by allowing a “whitelist” of attributes to be passed in. The instance provided will only have its attributes serialized which appear in this whitelist. This allows you to hide protected data store data, such as password hashes.</p><p name="f009" id="f009" class="graf graf--p graf-after--p">Pretty simple right?</p><p name="8684" id="8684" class="graf graf--p graf-after--p">Let’s make it even simpler. Instead of having to use a global helper file like the one we defined above, wouldn’t it be nice if youcould just take and instance and do <code class="markup--code markup--p-code">user.serialize()</code>? Let’s set that up.</p><pre name="e2e2" id="e2e2" class="graf graf--pre graf-after--p">// src/helper/serialize/factory.js</pre><pre name="e1ed" id="e1ed" class="graf graf--pre graf-after--pre">import instance from &#39;./instance&#39;;</pre><pre name="e0e2" id="e0e2" class="graf graf--pre graf-after--pre">/**<br> * Return a function for Sequelize instances to serialize themselves.<br> *<br> * <a href="http://twitter.com/param" data-href="http://twitter.com/param" class="markup--anchor markup--pre-anchor" title="Twitter profile for @param" rel="nofollow noopener" target="_blank">@param</a> {Object|Func} options Object of options<br> * <a href="http://twitter.com/param" data-href="http://twitter.com/param" class="markup--anchor markup--pre-anchor" title="Twitter profile for @param" rel="nofollow noopener" target="_blank">@param</a> {Array[String]} options.attributes Whitelisted array of attributes<br> * <a href="http://twitter.com/param" data-href="http://twitter.com/param" class="markup--anchor markup--pre-anchor" title="Twitter profile for @param" rel="nofollow noopener" target="_blank">@param</a> {Array[String]} options.associations Whitelisted array of associations<br> *<br> * <a href="http://twitter.com/return" data-href="http://twitter.com/return" class="markup--anchor markup--pre-anchor" title="Twitter profile for @return" rel="nofollow noopener" target="_blank">@return</a> {Func} (options) serializer function<br> */<br>export default (options = {}) =&gt;<br>  async function serialize(options) {<br>    return instance(this, options);<br>  };</pre><p name="bd74" id="bd74" class="graf graf--p graf-after--pre">This factory just gives us a function which calls the <code class="markup--code markup--p-code">instance</code> function we defined above, with the instance to be serialized set to <code class="markup--code markup--p-code">this</code>. Remember, <code class="markup--code markup--p-code">this</code> will be our instance.</p><p name="7eb4" id="7eb4" class="graf graf--p graf-after--p">Now, use this factory and set up the instance method for each one of our models.</p><pre name="124e" id="124e" class="graf graf--pre graf-after--p">// src/models/index.js</pre><pre name="50fd" id="50fd" class="graf graf--pre graf-after--pre">import factory from &#39;src/helper/serialize/factory&#39;;</pre><pre name="de44" id="de44" class="graf graf--pre graf-after--pre">...</pre><pre name="8ac2" id="8ac2" class="graf graf--pre graf-after--pre">// Add serialize instance method<br>let options = {};</pre><pre name="9867" id="9867" class="graf graf--pre graf-after--pre">try {<br>  options = require(<br>    path.join(__dirname, modelName, &#39;serializer.js&#39;)<br>  ).default;<br>} catch (err) {<br>  // no-op<br>}</pre><pre name="8f0f" id="8f0f" class="graf graf--pre graf-after--pre">model.Instance.prototype.serialize = factory(options);</pre><pre name="c4bb" id="c4bb" class="graf graf--pre graf-after--pre">...</pre><p name="536e" id="536e" class="graf graf--p graf-after--pre">The above is meant to take place while each model is being loaded by Sequelize, typically done in <code class="markup--code markup--p-code">src/models/index.js</code>. You can see that we are also loading a <code class="markup--code markup--p-code">serialize.js</code> file for each model. This file should export an object which has the options needed for serialization of that model. For example, a <code class="markup--code markup--p-code">src/models/user/serialize.js</code> file might look like:</p><pre name="24e7" id="24e7" class="graf graf--pre graf-after--p">export default  {<br>  attributes: [<br>    &#39;first_name&#39;,<br>    &#39;id&#39;,<br>    &#39;last_name&#39;,<br>  ],<br>};</pre><p name="ab6a" id="ab6a" class="graf graf--p graf-after--pre">Now when we have a <code class="markup--code markup--p-code">user</code> instance, we can call <code class="markup--code markup--p-code">user.serialize()</code> and expect an object with just <code class="markup--code markup--p-code">first_name</code>, <code class="markup--code markup--p-code">id</code>, and <code class="markup--code markup--p-code">last_name</code> in it, regardless of what else might be going on with the user model.</p><p name="8d88" id="8d88" class="graf graf--p graf-after--p">Slightly more advanced serialization might be to include related entities in the response.</p><p name="3165" id="3165" class="graf graf--p graf-after--p">Suppose a book has one author. It would be nice to be able to nest the author information in the response of a client requesting information about a book. It’s surprisingly easy to do this with Sequelize. Just add the following to your <code class="markup--code markup--p-code">instance.js</code> serialization function:</p><pre name="d45c" id="d45c" class="graf graf--pre graf-after--p">// src/helper/serialize/instance.js</pre><pre name="630f" id="630f" class="graf graf--pre graf-after--pre">import snakeCase from &#39;lodash/snakeCase&#39;;</pre><pre name="24c7" id="24c7" class="graf graf--pre graf-after--pre">...</pre><pre name="d5e9" id="d5e9" class="graf graf--pre graf-after--pre">const associations = settings.associations || [];</pre><pre name="f642" id="f642" class="graf graf--pre graf-after--pre">await Promise.all(associations.map(async (association) =&gt; {<br>  const relative = instance[association];</pre><pre name="34e7" id="34e7" class="graf graf--pre graf-after--pre">  if (!relative) return null;</pre><pre name="4bbf" id="4bbf" class="graf graf--pre graf-after--pre">  result[snakeCase(association).toLowerCase()] = relative ?<br>    await relative.serialize() : null;<br>  }<br>}));</pre><pre name="a71f" id="a71f" class="graf graf--pre graf-after--pre">...</pre><p name="ac22" id="ac22" class="graf graf--p graf-after--pre">Now we can provide an <code class="markup--code markup--p-code">associations</code> array in our serialization options, which will be used to look for those associations on our instance, serialize them based on their own serialization options, and then nest the results for us.</p><p name="3ea3" id="3ea3" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Note: for the above to work, the associated model must be eager loaded (the instance of book should have book.Author already loaded in memory). This can be accomplished through </em><a href="http://docs.sequelizejs.com/manual/tutorial/models-usage.html#eager-loading" data-href="http://docs.sequelizejs.com/manual/tutorial/models-usage.html#eager-loading" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">Sequelize’s eager loading techniques</em></a><em class="markup--em markup--p-em">. The code could easily be modified to load the associated data at this point instead of using eager loading, but that is left as an exercise to the reader.</em></p><p name="bd2a" id="bd2a" class="graf graf--p graf-after--p">The results of the association being serialized would look something like:</p><pre name="110c" id="110c" class="graf graf--pre graf-after--p">{<br>  title: &#39;The Old Man and the Sea&#39;,<br>  author: {<br>    first_name: &#39;Ernest&#39;,<br>    id: 1,<br>    last_name: &#39;Hemingway&#39;,<br>  }<br>}</pre><p name="a179" id="a179" class="graf graf--p graf-after--pre">given a <code class="markup--code markup--p-code">book/serialize.js</code> file that looked like this:</p><pre name="3a5e" id="3a5e" class="graf graf--pre graf-after--p">export default {<br>  attributes: [<br>    &#39;title&#39;,<br>  ],<br>  associations: [<br>    &#39;Author&#39;,<br>  ],<br>};</pre><p name="cd5c" id="cd5c" class="graf graf--p graf-after--pre graf--trailing">Now you are in full control of how data is being presented to requesting clients!</p></div></div></section><section name="647a" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="0d8e" id="0d8e" class="graf graf--p graf--leading">You could take this serializer architecture one step further, allowing you to address even more cases around permissions and authentication, by simply turning the any model&#39;s<code class="markup--code markup--p-code">serialize.js</code> file into a function. These functions could accept the Express <code class="markup--code markup--p-code">req</code> object, the current user, or whatever else you would need to determine what data to present to the client.</p><p name="d78b" id="d78b" class="graf graf--p graf-after--p">For example, you could add an extra field to the response, if the currently authenticated user is an admin of your system like so:</p><pre name="0583" id="0583" class="graf graf--pre graf-after--p">// src/models/user/serialize.js</pre><pre name="ffa2" id="ffa2" class="graf graf--pre graf-after--pre">export default async (currentUser) =&gt; {<br>  const result = {<br>    attributes: [<br>      &#39;first_name&#39;,<br>      &#39;id&#39;,<br>      &#39;last_name&#39;,<br>    ],<br>  };</pre><pre name="6a0b" id="6a0b" class="graf graf--pre graf-after--pre">  if (currentUser.type, &#39;admin&#39;) {<br>    result.attributes.push(&#39;some_private_attribute&#39;);<br>  }</pre><pre name="69f8" id="69f8" class="graf graf--pre graf-after--pre">  return result;<br>};</pre><p name="4667" id="4667" class="graf graf--p graf-after--pre graf--trailing">Now when the user is an <code class="markup--code markup--p-code">admin</code> we are letting them see <code class="markup--code markup--p-code">some_private_attribute</code> on all users. You will of course need to update your logic in <code class="markup--code markup--p-code">src/helper/serialize/instance.js</code> to interpret the options as a function which returns an object instead of an object itself, but that is straightforward.</p></div></div></section><section name="51a2" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="c0bd" id="c0bd" class="graf graf--p graf--leading">That’s it! Now you are all prepared to take your Sequelize data models, and convert them into properly formatted responses for any client using your API.</p><p name="e5b9" id="e5b9" class="graf graf--p graf-after--p graf--trailing">Stay Riipe!</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"><div class="postMetaInline postMetaInline--acknowledgments u-paddingTop5 u-paddingBottom20 js-postMetaAcknowledgments"><span data-tooltip="The following people helped the author by providing feedback before the story was published.">Thanks to</span> <span><a class="link u-baseColor--link"   href="https://medium.com/@michael.macpherson?source=post_page" data-action="show-user-card" data-action-source="post_page" data-action-value="216d78f9cf44" data-action-type="hover" data-user-id="216d78f9cf44" dir="auto">Michael MacPherson</a></span>. </div></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"   href="https://medium.com/tag/javascript?source=post" data-action-source="post">JavaScript</a></li><li><a class="link u-baseColor--link"   href="https://medium.com/tag/sequelize?source=post" data-action-source="post">Sequelize</a></li><li><a class="link u-baseColor--link"   href="https://medium.com/tag/serialization?source=post" data-action-source="post">Serialization</a></li><li><a class="link u-baseColor--link"   href="https://medium.com/tag/nodejs?source=post" data-action-source="post">Nodejs</a></li><li><a class="link u-baseColor--link"   href="https://medium.com/tag/software-development?source=post" data-action-source="post">Software Development</a></li></ul></div></div></div><div class="postActions js-postActionsFooter "><div class="u-flexCenter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="6c3a9633797a" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----6c3a9633797a---------------------clap_footer" data-clap-string-singular="clap" data-clap-string-plural="claps"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--darker clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboardingcollection"  data-action="multivote" data-action-value="6c3a9633797a" data-action-type="long-press" data-action-source="post_actions_footer-----6c3a9633797a---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" ><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" ><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"/><path d="M13.285.48l-1.916.881 2.37 2.837z"/><path d="M21.719 1.361L19.79.501l-.44 3.697z"/><path d="M16.502 3.298L15.481 0h2.043z"/></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Springu-backgroundGrayLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight"  data-action="multivote-undo" data-action-value="6c3a9633797a"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"/></svg></span></button></div></div><span class="u-relative u-background js-actionMultirecommendCount u-marginLeft16"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-textColorDarker"  data-action="show-recommends" data-action-value="6c3a9633797a">33 claps</button><span class="u-xs-hide"></span></span></div></div><div class="buttonSet u-flex0"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless u-xs-hide u-marginRight12"   href="https://medium.com/p/6c3a9633797a/share/twitter" title="Share on Twitter" aria-label="Share on Twitter" target="_blank" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M22.053 7.54a4.474 4.474 0 0 0-3.31-1.455 4.526 4.526 0 0 0-4.526 4.524c0 .35.04.7.082 1.05a12.9 12.9 0 0 1-9.3-4.77c-.39.69-.61 1.46-.65 2.26.03 1.6.83 2.99 2.02 3.79-.72-.02-1.41-.22-2.02-.57-.01.02-.01.04 0 .08-.01 2.17 1.55 4 3.63 4.44-.39.08-.79.13-1.21.16-.28-.03-.57-.05-.81-.08.54 1.77 2.21 3.08 4.2 3.15a9.564 9.564 0 0 1-5.66 1.94c-.34-.03-.7-.06-1.05-.08 2 1.27 4.38 2.02 6.94 2.02 8.31 0 12.86-6.9 12.84-12.85.02-.24.01-.43 0-.65.89-.62 1.65-1.42 2.26-2.34-.82.38-1.69.62-2.59.72a4.37 4.37 0 0 0 1.94-2.51c-.84.53-1.81.9-2.83 1.13z"/></svg></span></span></a><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless u-xs-hide u-marginRight12"   href="https://medium.com/p/6c3a9633797a/share/facebook" title="Share on Facebook" aria-label="Share on Facebook" target="_blank" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookSquare svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M23.209 5H5.792A.792.792 0 0 0 5 5.791V23.21c0 .437.354.791.792.791h9.303v-7.125H12.72v-2.968h2.375v-2.375c0-2.455 1.553-3.662 3.741-3.662 1.049 0 1.95.078 2.213.112v2.565h-1.517c-1.192 0-1.469.567-1.469 1.397v1.963h2.969l-.594 2.968h-2.375L18.11 24h5.099a.791.791 0 0 0 .791-.791V5.79a.791.791 0 0 0-.791-.79"/></svg></span></span></a><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show u-marginRight10"  title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="respond" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="add-to-bookmarks" data-action-value="6c3a9633797a" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px u-marginRight4"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px u-marginRight4"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon js-moreActionsButton"  title="More actions" aria-label="More actions" data-action="more-actions"><span class="svgIcon svgIcon--more svgIcon--25px"><svg class="svgIcon-use" width="25" height="25"  viewBox="-480.5 272.5 21 21"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"/></svg></span></button></div></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size6of12 u-xs-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="5e1040ba2b3f"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="toggle-block-user" data-action-value="5e1040ba2b3f" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="toggle-subscribe-user" data-action-value="5e1040ba2b3f" data-action-source="footer_card-5e1040ba2b3f-------------------------follow_footer" data-subscribe-source="footer_card" data-follow-context-entity-id="6c3a9633797a"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar"   href="https://medium.com/@jordanell?source=footer_card" title="Go to the profile of Jordan Ell" aria-label="Go to the profile of Jordan Ell" data-action-source="footer_card" data-user-id="5e1040ba2b3f" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*9IAyc71HnTtzIZEqjXwebQ.png" class="avatar-image avatar-image--small" alt="Go to the profile of Jordan Ell"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://medium.com/@jordanell" property="cc:attributionName" title="Go to the profile of Jordan Ell" aria-label="Go to the profile of Jordan Ell" rel="author cc:attributionUrl" data-user-id="5e1040ba2b3f" dir="auto">Jordan Ell</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Director of Technology at Riipen.</p></div></li></div><div class="col u-size6of12 u-xs-size12of12 u-xs-marginTop30"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardCollection"><div class="u-marginLeft20 u-floatRight"><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton"  data-action="toggle-follow-collection" data-action-source="----6f9d9cd1d7d4----------------------follow_footer" data-collection-id="6f9d9cd1d7d4"><span class="button-label  js-buttonLabel">Follow</span></button></div><div class="u-tableCell "><a class="link u-baseColor--link avatar avatar--roundedRectangle"   href="https://medium.com/riipen-engineering?source=footer_card" title="Go to Riipen Engineering" aria-label="Go to Riipen Engineering" data-action-source="footer_card"><img src="https://cdn-images-1.medium.com/fit/c/60/60/1*lewofgnNzvPacnu3ZECO-A.png" class="avatar-image u-size60x60" alt="Riipen Engineering"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://medium.com/riipen-engineering?source=footer_card" rel="collection" data-action-source="footer_card">Riipen Engineering</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">A discussion of Riipen engineering and technology</p><div class="buttonSet"></div></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><aside class="u-marginAuto u-maxWidth1000 js-postLeftSidebar"><div class="u-foreground u-top0 u-transition--fadeOut300 u-fixed u-sm-hide js-postShareWidget"><ul><li class="u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="6c3a9633797a" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_share_widget-----6c3a9633797a---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--primary button--large button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--darker"  data-action="multivote" data-action-value="6c3a9633797a" data-action-type="long-press" data-action-source="post_share_widget-----6c3a9633797a---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><g fill-rule="evenodd"><path d="M13.739 1l.761 2.966L15.261 1z"/><path d="M16.815 4.776l1.84-2.551-1.43-.471z"/><path d="M10.378 2.224l1.84 2.551-.408-3.022z"/><path d="M22.382 22.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L6.11 15.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L8.43 9.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L20.628 15c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM12.99 6.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"/></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><g fill-rule="evenodd"><path d="M13.738 1l.762 2.966L15.262 1z"/><path d="M18.634 2.224l-1.432-.47-.408 3.022z"/><path d="M11.79 1.754l-1.431.47 1.84 2.552z"/><path d="M24.472 14.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"/><path d="M14.58 10.887c-.156-.83.096-1.569.692-2.142L12.78 6.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"/><path d="M17.812 10.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L9.2 7.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L7.046 9.54 5.802 8.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394l1.241 1.241 4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L4.89 11.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C21.74 20.8 22.271 18 20.62 14.982l-2.809-4.942z"/></g></svg></span></span></button></div><span class="u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton"  data-action="show-recommends" data-action-value="6c3a9633797a">33</button></span></div></li><li class="u-marginVertical10 u-marginLeft3"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="add-to-bookmarks" data-action-value="6c3a9633797a" data-action-source="post_share_widget-----6c3a9633797a---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li><li class="u-marginVertical10 u-marginLeft3"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless"   href="https://medium.com/p/6c3a9633797a/share/twitter" title="Share on Twitter" aria-label="Share on Twitter" target="_blank" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M22.053 7.54a4.474 4.474 0 0 0-3.31-1.455 4.526 4.526 0 0 0-4.526 4.524c0 .35.04.7.082 1.05a12.9 12.9 0 0 1-9.3-4.77c-.39.69-.61 1.46-.65 2.26.03 1.6.83 2.99 2.02 3.79-.72-.02-1.41-.22-2.02-.57-.01.02-.01.04 0 .08-.01 2.17 1.55 4 3.63 4.44-.39.08-.79.13-1.21.16-.28-.03-.57-.05-.81-.08.54 1.77 2.21 3.08 4.2 3.15a9.564 9.564 0 0 1-5.66 1.94c-.34-.03-.7-.06-1.05-.08 2 1.27 4.38 2.02 6.94 2.02 8.31 0 12.86-6.9 12.84-12.85.02-.24.01-.43 0-.65.89-.62 1.65-1.42 2.26-2.34-.82.38-1.69.62-2.59.72a4.37 4.37 0 0 0 1.94-2.51c-.84.53-1.81.9-2.83 1.13z"/></svg></span></span></a></li><li class="u-marginVertical10 u-marginLeft3"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless"   href="https://medium.com/p/6c3a9633797a/share/facebook" title="Share on Facebook" aria-label="Share on Facebook" target="_blank" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookSquare svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M23.209 5H5.792A.792.792 0 0 0 5 5.791V23.21c0 .437.354.791.792.791h9.303v-7.125H12.72v-2.968h2.375v-2.375c0-2.455 1.553-3.662 3.741-3.662 1.049 0 1.95.078 2.213.112v2.565h-1.517c-1.192 0-1.469.567-1.469 1.397v1.963h2.969l-.594 2.968h-2.375L18.11 24h5.099a.791.791 0 0 0 .791-.791V5.79a.791.791 0 0 0-.791-.79"/></svg></span></span></a></li></ul></div></aside><style class="js-collectionStyle">
.u-accentColor--borderLight {border-color: #2C8DDC !important;}
.u-accentColor--borderNormal {border-color: #2C8DDC !important;}
.u-accentColor--borderDark {border-color: #3179B7 !important;}
.u-accentColor--iconLight .svgIcon,.u-accentColor--iconLight.svgIcon {fill: #2C8DDC !important;}
.u-accentColor--iconNormal .svgIcon,.u-accentColor--iconNormal.svgIcon {fill: #2C8DDC !important;}
.u-accentColor--iconDark .svgIcon,.u-accentColor--iconDark.svgIcon {fill: #3179B7 !important;}
.u-accentColor--textNormal {color: #3179B7 !important;}
.u-accentColor--hoverTextNormal:hover {color: #3179B7 !important;}
.u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #316FA5 !important;}
.u-accentColor--textDark {color: #316FA5 !important;}
.u-accentColor--backgroundLight {background-color: #2C8DDC !important;}
.u-accentColor--backgroundNormal {background-color: #2C8DDC !important;}
.u-accentColor--backgroundDark {background-color: #3179B7 !important;}
.u-accentColor--buttonDark {border-color: #3179B7 !important; color: #316FA5 !important;}
.u-accentColor--buttonDark:hover {border-color: #316FA5 !important;}
.u-accentColor--buttonDark .icon:before,.u-accentColor--buttonDark .svgIcon{color: #3179B7 !important; fill: #3179B7 !important;}
.u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: #2C8DDC !important; color: #3179B7 !important;}
.u-accentColor--buttonNormal:hover {border-color: #3179B7 !important;}
.u-accentColor--buttonNormal .icon:before,.u-accentColor--buttonNormal .svgIcon{color: #2C8DDC !important; fill: #2C8DDC !important;}
.u-accentColor--buttonNormal.button--filled .icon:before,.u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonDark.button--filled,.u-accentColor--buttonDark.button--withChrome.is-active,.u-accentColor--fillWhenActive.is-active {background-color: #3179B7 !important; border-color: #3179B7 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: #2C8DDC !important; border-color: #2C8DDC !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--user,.postArticle.is-withAccentColors .markup--query {color: #3179B7 !important;}.u-tintBgColor {background-color: rgba(44, 141, 220, 1) !important;}.u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(44, 141, 220, 1) 0%, rgba(44, 141, 220, 0) 100%) !important;}.u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(44, 141, 220, 0) 0%, rgba(44, 141, 220, 1) 100%) !important;}
.u-tintSpectrum .u-baseColor--borderLight {border-color: #9FCBF8 !important;}
.u-tintSpectrum .u-baseColor--borderNormal {border-color: #C2E1FF !important;}
.u-tintSpectrum .u-baseColor--borderDark {border-color: #E4F7FF !important;}
.u-tintSpectrum .u-baseColor--iconLight .svgIcon,.u-tintSpectrum .u-baseColor--iconLight.svgIcon {fill: #9FCBF8 !important;}
.u-tintSpectrum .u-baseColor--iconNormal .svgIcon,.u-tintSpectrum .u-baseColor--iconNormal.svgIcon {fill: #C2E1FF !important;}
.u-tintSpectrum .u-baseColor--iconDark .svgIcon,.u-tintSpectrum .u-baseColor--iconDark.svgIcon {fill: #E4F7FF !important;}
.u-tintSpectrum .u-baseColor--textNormal {color: #C2E1FF !important;}
.u-tintSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--textDark {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--textDarker {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--backgroundLight {background-color: #9FCBF8 !important;}
.u-tintSpectrum .u-baseColor--backgroundNormal {background-color: #C2E1FF !important;}
.u-tintSpectrum .u-baseColor--backgroundDark {background-color: #E4F7FF !important;}
.u-tintSpectrum .u-baseColor--buttonLight {border-color: #9FCBF8 !important; color: #9FCBF8 !important;}
.u-tintSpectrum .u-baseColor--buttonLight:hover {border-color: #9FCBF8 !important;}
.u-tintSpectrum .u-baseColor--buttonLight .icon:before,.u-tintSpectrum .u-baseColor--buttonLight .svgIcon {color: #9FCBF8 !important; fill: #9FCBF8 !important;}
.u-tintSpectrum .u-baseColor--buttonDark {border-color: #E4F7FF !important; color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--buttonDark:hover {border-color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--buttonDark .icon:before,.u-tintSpectrum .u-baseColor--buttonDark .svgIcon {color: #E4F7FF !important; fill: #E4F7FF !important;}
.u-tintSpectrum .u-baseColor--buttonNormal {border-color: #C2E1FF !important; color: #C2E1FF !important;}
.u-tintSpectrum .u-baseColor--buttonNormal:hover {border-color: #E4F7FF !important;}
.u-tintSpectrum .u-baseColor--buttonNormal .icon:before,.u-tintSpectrum .u-baseColor--buttonNormal .svgIcon {color: #C2E1FF !important; fill: #C2E1FF !important;}
.u-tintSpectrum .u-baseColor--buttonDark.button--filled,.u-tintSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: #E4F7FF !important; border-color: #E4F7FF !important; color: rgba(44, 141, 220, 1) !important; fill: rgba(44, 141, 220, 1) !important;}
.u-tintSpectrum .u-baseColor--buttonNormal.button--filled,.u-tintSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: #C2E1FF !important; border-color: #C2E1FF !important; color: rgba(44, 141, 220, 1) !important; fill: rgba(44, 141, 220, 1) !important;}
.u-tintSpectrum .u-baseColor--link {color: #C2E1FF !important;}
.u-tintSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--link.link--darken:hover,.u-tintSpectrum .u-baseColor--link.link--darken:focus,.u-tintSpectrum .u-baseColor--link.link--darken:active {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--link.link--dark {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:active {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--link.link--darker {color: #F4FFFF !important;}
.u-tintSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: #9FCBF8;}
.u-tintSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: #9FCBF8;}
.u-tintSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: #9FCBF8;}
.u-tintSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: #F4FFFF !important;}
.u-tintSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: #F4FFFF !important;}
.u-tintSpectrum  .ui-h1,.u-tintSpectrum  .ui-h2,.u-tintSpectrum  .ui-h3,.u-tintSpectrum  .ui-h4,.u-tintSpectrum  .ui-brand1,.u-tintSpectrum  .ui-brand2,.u-tintSpectrum  .ui-captionStrong {color: #F4FFFF !important; fill: #F4FFFF !important;}
.u-tintSpectrum  .ui-body,.u-tintSpectrum  .ui-caps {color: #F4FFFF !important; fill: #F4FFFF !important;}
.u-tintSpectrum  .ui-summary,.u-tintSpectrum  .ui-caption {color: #9FCBF8 !important; fill: #9FCBF8 !important;}
.u-tintSpectrum .u-accentColor--borderLight {border-color: #9FCBF8 !important;}
.u-tintSpectrum .u-accentColor--borderNormal {border-color: #C2E1FF !important;}
.u-tintSpectrum .u-accentColor--borderDark {border-color: #E4F7FF !important;}
.u-tintSpectrum .u-accentColor--iconLight .svgIcon,.u-tintSpectrum .u-accentColor--iconLight.svgIcon {fill: #9FCBF8 !important;}
.u-tintSpectrum .u-accentColor--iconNormal .svgIcon,.u-tintSpectrum .u-accentColor--iconNormal.svgIcon {fill: #C2E1FF !important;}
.u-tintSpectrum .u-accentColor--iconDark .svgIcon,.u-tintSpectrum .u-accentColor--iconDark.svgIcon {fill: #E4F7FF !important;}
.u-tintSpectrum .u-accentColor--textNormal {color: #C2E1FF !important;}
.u-tintSpectrum .u-accentColor--hoverTextNormal:hover {color: #C2E1FF !important;}
.u-tintSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #F4FFFF !important;}
.u-tintSpectrum .u-accentColor--textDark {color: #F4FFFF !important;}
.u-tintSpectrum .u-accentColor--backgroundLight {background-color: #9FCBF8 !important;}
.u-tintSpectrum .u-accentColor--backgroundNormal {background-color: #C2E1FF !important;}
.u-tintSpectrum .u-accentColor--backgroundDark {background-color: #E4F7FF !important;}
.u-tintSpectrum .u-accentColor--buttonDark {border-color: #E4F7FF !important; color: #F4FFFF !important;}
.u-tintSpectrum .u-accentColor--buttonDark:hover {border-color: #F4FFFF !important;}
.u-tintSpectrum .u-accentColor--buttonDark .icon:before,.u-tintSpectrum .u-accentColor--buttonDark .svgIcon{color: #E4F7FF !important; fill: #E4F7FF !important;}
.u-tintSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: #C2E1FF !important; color: #C2E1FF !important;}
.u-tintSpectrum .u-accentColor--buttonNormal:hover {border-color: #E4F7FF !important;}
.u-tintSpectrum .u-accentColor--buttonNormal .icon:before,.u-tintSpectrum .u-accentColor--buttonNormal .svgIcon{color: #C2E1FF !important; fill: #C2E1FF !important;}
.u-tintSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-tintSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(44, 141, 220, 1) !important; fill: rgba(44, 141, 220, 1) !important;}
.u-tintSpectrum .u-accentColor--buttonDark.button--filled,.u-tintSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-tintSpectrum .u-accentColor--fillWhenActive.is-active {background-color: #E4F7FF !important; border-color: #E4F7FF !important; color: rgba(44, 141, 220, 1) !important; fill: rgba(44, 141, 220, 1) !important;}
.u-tintSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-tintSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: #C2E1FF !important; border-color: #C2E1FF !important; color: rgba(44, 141, 220, 1) !important; fill: rgba(44, 141, 220, 1) !important;}
.u-tintSpectrum .postArticle.is-withAccentColors .markup--user,.u-tintSpectrum .postArticle.is-withAccentColors .markup--query {color: #C2E1FF !important;}
.u-accentColor--highlightFaint {background-color: rgba(223, 244, 255, 1) !important;}
.u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(170, 232, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--quote.is-other {background-color: rgba(223, 244, 255, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(223, 244, 255, 1), rgba(223, 244, 255, 1));}
.postArticle.is-withAccentColors .markup--quote.is-me {background-color: rgba(195, 238, 255, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(195, 238, 255, 1), rgba(195, 238, 255, 1));}
.postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: rgba(170, 232, 255, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(170, 232, 255, 1), rgba(170, 232, 255, 1));}
.postArticle.is-withAccentColors .markup--quote.is-selected {background-color: rgba(170, 232, 255, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(170, 232, 255, 1), rgba(170, 232, 255, 1));}
.postArticle.is-withAccentColors .markup--highlight {background-color: rgba(170, 232, 255, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(170, 232, 255, 1), rgba(170, 232, 255, 1));}.u-baseColor--iconNormal.avatar-halo {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}</style><style class="js-collectionStyleConstant">.u-imageBgColor {background-color: rgba(0, 0, 0, 0.24705882352941178);}
.u-imageSpectrum .u-baseColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconLight .svgIcon,.u-imageSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--iconNormal .svgIcon,.u-imageSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconDark .svgIcon,.u-imageSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDarker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important; color: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--buttonLight .icon:before,.u-imageSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark .icon:before,.u-imageSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal .icon:before,.u-imageSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonDark.button--filled,.u-imageSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal.button--filled,.u-imageSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--link {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-h1,.u-imageSpectrum  .ui-h2,.u-imageSpectrum  .ui-h3,.u-imageSpectrum  .ui-h4,.u-imageSpectrum  .ui-brand1,.u-imageSpectrum  .ui-brand2,.u-imageSpectrum  .ui-captionStrong {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-body,.u-imageSpectrum  .ui-caps {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-summary,.u-imageSpectrum  .ui-caption {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconLight .svgIcon,.u-imageSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--iconNormal .svgIcon,.u-imageSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconDark .svgIcon,.u-imageSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark .icon:before,.u-imageSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonDark.button--filled,.u-imageSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-imageSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-imageSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .postArticle.is-withAccentColors .markup--user,.u-imageSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--highlightFaint {background-color: rgba(255, 255, 255, 0.2) !important;}
.u-imageSpectrum .u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 255, 255, 0.6) !important;}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: rgba(255, 255, 255, 0.2) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: rgba(255, 255, 255, 0.4) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}.u-resetSpectrum .u-tintBgColor {background-color: rgba(255, 255, 255, 1) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%) !important;}
.u-resetSpectrum .u-baseColor--borderLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderDark {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--iconLight .svgIcon,.u-resetSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconNormal .svgIcon,.u-resetSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconDark .svgIcon,.u-resetSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textNormal {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDarker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--backgroundLight {background-color: rgba(0, 0, 0, 0.09803921568627451) !important;}
.u-resetSpectrum .u-baseColor--backgroundNormal {background-color: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .u-baseColor--backgroundDark {background-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight .icon:before,.u-resetSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark {border-color: rgba(0, 0, 0, 0.6) !important; color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--buttonDark .icon:before,.u-resetSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important; color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal .icon:before,.u-resetSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(0, 0, 0, 0.4980392156862745) !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark.button--filled,.u-resetSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2980392156862745) !important; border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal.button--filled,.u-resetSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2) !important; border-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--link {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--darken:active {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--link.link--darker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-h1,.u-resetSpectrum  .ui-h2,.u-resetSpectrum  .ui-h3,.u-resetSpectrum  .ui-h4,.u-resetSpectrum  .ui-brand1,.u-resetSpectrum  .ui-brand2,.u-resetSpectrum  .ui-captionStrong {color: rgba(0, 0, 0, 0.8) !important; fill: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum  .ui-body,.u-resetSpectrum  .ui-caps {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-summary,.u-resetSpectrum  .ui-caption {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-accentColor--borderLight {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderNormal {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderDark {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconLight .svgIcon,.u-resetSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--iconNormal .svgIcon,.u-resetSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconDark .svgIcon,.u-resetSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textDark {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundLight {background-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundNormal {background-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundDark {background-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark {border-color: rgba(0, 171, 107, 1) !important; color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark .icon:before,.u-resetSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(28, 153, 99, 1) !important; fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(2, 184, 117, 1) !important; color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(0, 171, 107, 1) !important; fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark.button--filled,.u-resetSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-resetSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(28, 153, 99, 1) !important; border-color: rgba(28, 153, 99, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-resetSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(0, 171, 107, 1) !important; border-color: rgba(0, 171, 107, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .postArticle.is-withAccentColors .markup--user,.u-resetSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(0, 171, 107, 1) !important;}</style></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"36687-394aa71","currentUser":{"userId":"851b404bd899","username":"ashd32","name":"Ashley Donald","email":"ashd32@gmail.com","imageId":"0*1MKgUUsIK54YjW3q","createdAt":1537800045839,"isVerified":true,"subscriberEmail":"","onboardingStatus":3,"googleAccountId":"104850390446920965342","googleEmail":"ashd32@gmail.com","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":true,"hightowerLastLockedAt":0,"isWriterProgramEnrolled":false,"isWriterProgramInvited":false,"isWriterProgramOptedOut":false,"writerProgramVersion":0,"writerProgramEnrolledAt":0,"friendLinkOnboarding":0,"hasAdditionalUnlocks":false,"hasApiAccess":false,"isQuarantined":false},"currentUserHasUnverifiedEmail":false,"isAuthenticated":true,"isCurrentUserVerified":true,"language":"en-us","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.YpyU53JdqePZ26b27an9aQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.55fp36FJPYx4N_9B2MJ8RQ.js","hightower":"https://cdn-static-1.medium.com/_/fp/gen-js/main-hightower.bundle.dEKHpuXmW3ZA7nGDInnepQ.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.cda_3tVwnz36l5TjJnYzLA.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.CHTsCE-jjrfz8pPJTy0X2Q.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.SkdMeow4Q_owIo5NbF0UUQ.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.veqw9t3WHbBGeuhqFAZKIg.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.egKIiM8bkkcIUJRycnSLaw.js","power-readers":"https://cdn-static-1.medium.com/_/fp/gen-js/main-power-readers.bundle.5HdKEQAzk4N49eTvxJTgHg.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.wKDSkXC-mkA3UGbzGVzJbA.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.OqkV2ee0H09V4dNIM0jpMQ.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1551286596297:65a17f9915d9","useragent":{"browser":"chrome","family":"chrome","os":"mac","version":72,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":true,"supportsVideoSections":true,"emojiSupportLevel":5,"isSearchBot":false,"isSyndicationBot":false,"isNativeAndroid":false,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv,google-one-tap","signup_services":"twitter,facebook,google,email,google-fastidv,google-one-tap","google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"curated-topics","enable_dedicated_series_tab_api_ios":true,"enable_post_import":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","disable_ios_resume_reading_toast":true,"is_not_medium_subscriber":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_fastrak_rollout_new_users":true,"enable_fastrak_rollout_invited_users":true,"max_premium_content_per_user_under_metering":3,"enable_automated_mission_control_triggers":true,"enable_top_stories_for_you":true,"enable_lite_profile":true,"enable_topic_lifecycle_email":true,"enable_marketing_emails":true,"enable_truncated_rss_for_tags_and_topics":true,"enable_parsely":true,"enable_branch_io":true,"enable_ios_post_stats":true,"enable_lite_topics":true,"enable_lite_stories":true,"redis_read_write_splitting":true,"enable_tipalti_onboarding":true,"enable_annual_renewal_reminder_email":true,"enable_janky_spam_rules":"users,posts","enable_new_collaborative_filtering_data":true,"android_rating_prompt_stories_read_threshold":2,"enable_smart_meter_without_incentive":true,"stripe_v3":true,"enable_google_one_tap":true,"enable_email_sign_in_captcha":true,"enable_primary_topic_for_mobile":true,"enable_prereg_post_post_recs":true,"store_moc_depth_in_session":true,"less_aggressive_smart_meter":true,"enable_february_meter_email_test":true,"enable_topic_rtr_ranking":true,"enable_pregenerated_digests":true,"enable_single_topic_onboarding":true},"xsrfToken":"RiNgAEUzvm0G","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"},{"id":11,"url":"https://glyph.medium.com/css/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"686ed228733f91b0\",\"ot-tracer-traceid\":\"5ea1e9915dae6b17\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email"],"connect":["public_profile","email"],"login":["public_profile","email"],"share":["public_profile","email"]}},"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":1,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[{"promptId":"li_post_page","type":0,"url":"www.calendly.com"},{"promptId":"li_home_page","type":1,"url":"mediumuserfeedback.typeform.com/to/GcFjEO"},{"promptId":"li_profile_page","type":2,"url":"www.calendly.com"}],"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","signinWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"countryCode":"US","bypassMeter":false,"branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","paypal":{"clientMode":"production","oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com/redeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"}},"collectionConfig":{"mediumOwnedAndOperatedCollectionIds":["544c7006046e // Human Parts","bcc38c8f6edf // Matter","444d13b52878 // OneZero"]}}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.YpyU53JdqePZ26b27an9aQ.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"6c3a9633797a","versionId":"5a51c446e1b","creatorId":"5e1040ba2b3f","creator":{"userId":"5e1040ba2b3f","name":"Jordan Ell","username":"jordanell","createdAt":1503329639679,"imageId":"1*9IAyc71HnTtzIZEqjXwebQ.png","backgroundImageId":"","bio":"Director of Technology at Riipen.","twitterScreenName":"jordanelltweets","socialStats":{"userId":"5e1040ba2b3f","usersFollowedCount":6,"usersFollowedByCount":37,"type":"SocialStats"},"social":{"userId":"851b404bd899","targetUserId":"5e1040ba2b3f","type":"Social"},"facebookAccountId":"","allowNotes":1,"mediumMemberAt":0,"isNsfw":false,"isQuarantined":false,"type":"User"},"homeCollection":{"id":"6f9d9cd1d7d4","name":"Riipen Engineering","slug":"riipen-engineering","tags":["ENGINEERING","COMPUTER SCIENCE","WEB DEVELOPMENT"],"creatorId":"5e1040ba2b3f","description":"A discussion of Riipen engineering and technology","shortDescription":"A discussion of Riipen engineering and technology","image":{"imageId":"1*lewofgnNzvPacnu3ZECO-A.png","filter":"","backgroundSize":"","originalWidth":67,"originalHeight":67,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":40,"activeAt":1550606694394},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*c-CjHv33obLOtwHalj1Vfg.png","filter":"","backgroundSize":"","originalWidth":545,"originalHeight":204,"strategy":"resample","height":0,"width":0},"twitterUsername":"riipen","facebookPageName":"riipen","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Riipen Engineering","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":3,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FF2C8DDC","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF2C8DDC","point":0},{"color":"#FF3083CA","point":0.1},{"color":"#FF3179B7","point":0.2},{"color":"#FF316FA5","point":0.3},{"color":"#FF306493","point":0.4},{"color":"#FF2E5981","point":0.5},{"color":"#FF2A4E6F","point":0.6},{"color":"#FF26425D","point":0.7},{"color":"#FF20364B","point":0.8},{"color":"#FF192939","point":0.9},{"color":"#FF101B27","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF2C8DDC","point":0},{"color":"#FF4B9AE2","point":0.1},{"color":"#FF63A7E8","point":0.2},{"color":"#FF78B3ED","point":0.3},{"color":"#FF8CBFF3","point":0.4},{"color":"#FF9FCBF8","point":0.5},{"color":"#FFB1D6FE","point":0.6},{"color":"#FFC2E1FF","point":0.7},{"color":"#FFD3ECFF","point":0.8},{"color":"#FFE4F7FF","point":0.9},{"color":"#FFF4FFFF","point":1}],"backgroundColor":"#FF2C8DDC"},"highlightSpectrum":{"colorPoints":[{"color":"#FFE4F5FF","point":0},{"color":"#FFDFF4FF","point":0.1},{"color":"#FFDAF3FF","point":0.2},{"color":"#FFD4F2FF","point":0.3},{"color":"#FFCFF0FF","point":0.4},{"color":"#FFC9EFFF","point":0.5},{"color":"#FFC3EEFF","point":0.6},{"color":"#FFBDEDFF","point":0.7},{"color":"#FFB7EBFF","point":0.8},{"color":"#FFB0EAFF","point":0.9},{"color":"#FFAAE8FF","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[{"type":5,"title":"All Stories","url":"https://medium.com/riipen-engineering/archive"},{"type":6,"title":"About","url":"https://medium.com/riipen-engineering/about"}],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Riipen Engineering","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":5},"type":"Collection"},"homeCollectionId":"6f9d9cd1d7d4","title":"Serializing Data with Sequelize","detectedLanguage":"en","latestVersion":"5a51c446e1b","latestPublishedVersion":"5a51c446e1b","hasUnpublishedEdits":false,"latestRev":601,"createdAt":1517510829451,"updatedAt":1528831636556,"acceptedAt":0,"firstPublishedAt":1517528664301,"latestPublishedAt":1520552587773,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data. A key part of serving this data, as with any…","bodyModel":{"paragraphs":[{"name":"1947","type":3,"text":"Serializing Data with Sequelize","markups":[]},{"name":"2862","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*xzAyItlS7rT6rvNM54QpiQ.png","originalWidth":512,"originalHeight":203}},{"name":"ecaa","type":1,"text":"At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data. A key part of serving this data, as with any API, is transforming what is in your data store, to data in memory, then to a response for the client requesting the data. An object relational mapper (ORM) is used for going from data store to in memory (we use Sequelize), but the transformation from your ORM to what is actually presented to a client is often overlooked.","markups":[{"type":3,"start":352,"end":361,"href":"http://docs.sequelizejs.com/","title":"","rel":"noopener","anchorType":0}]},{"name":"1ba5","type":1,"text":"A naive approach to this problem is simply to run a .toJSON() (or equivalent) function on your ORM instance to get a JSON object and then just respond with that entity. You have effectively serialized exactly what is in your database and responded to the client with it. But lets consider some cases which may cause you to rethink this approach:","markups":[{"type":10,"start":52,"end":61}]},{"name":"fd1e","type":9,"text":"You have data attributes you don’t want exposed to the client","markups":[]},{"name":"60b8","type":9,"text":"You want to handle null or undefined values in a special way","markups":[{"type":10,"start":19,"end":23},{"type":10,"start":27,"end":36}]},{"name":"bc6c","type":9,"text":"You want to add / remove attributes to your response based on user permissions","markups":[]},{"name":"004e","type":9,"text":"You want to have nested data in your response (not strictly REST-ful, but you may need this)","markups":[]},{"name":"6129","type":1,"text":"To handle all of these cases, you will need custom serialization logic within your API. That is to say, a custom way of transforming the data you are storing, to the data you present to your clients. Let’s look at some simple code and architecture that can help handle these cases.","markups":[]},{"name":"f13f","type":1,"text":"For the rest of this article, assume we are running an Express web server and using Sequelize as our ORM.","markups":[{"type":3,"start":55,"end":62,"href":"https://expressjs.com/","title":"","rel":"","anchorType":0},{"type":3,"start":84,"end":93,"href":"http://docs.sequelizejs.com/","title":"","rel":"","anchorType":0}]},{"name":"9ec9","type":1,"text":"Let’s take a bottom up approach and start with how we would serialize a particular attribute of any data model we have.","markups":[]},{"name":"481a","type":8,"text":"// src/helper/serialize/attribute.js","markups":[]},{"name":"8171","type":8,"text":"import moment from 'moment';","markups":[]},{"name":"a1be","type":8,"text":"/**\n * Serialize a single instance attribute\n *\n * This function converts JavaScript dates to strings.\n * options.nullValue may be one of empty, null, or remove\n *\n * e.g.\n *\n *    attribute(new Date()) === '2017-10-27T16:59:08-07:00'\n *\n * @param {Any} attr The attribute value to serialize\n *\n * @return {Any} The serialized version of the attribute.\n */\nexport default async function attribute(attr) {\n  // Handle date serialization\n  if (attr instanceof Date) {\n    return moment(attr).format('YYYY-MM-DDTHH:mm:ssZ');\n  }","markups":[{"type":3,"start":241,"end":247,"href":"http://twitter.com/param","title":"Twitter profile for @param","rel":"","anchorType":0},{"type":3,"start":298,"end":305,"href":"http://twitter.com/return","title":"Twitter profile for @return","rel":"","anchorType":0}]},{"name":"a202","type":8,"text":"  // Handle null values\n  if (attr === null) {\n    return '';\n  }","markups":[]},{"name":"f7db","type":8,"text":"  // All other types of serialization\n  return await attr;\n}","markups":[]},{"name":"b738","type":1,"text":"The above function does one thing, takes an attribute and serializes it. You can see that we have added special logic for dates as well as null values.","markups":[{"type":10,"start":139,"end":143}]},{"name":"6bc7","type":1,"text":"For dates, we take the store values, and convert it to our favorite date formatted string using Moment.js. This ensures that every date we return to the client is formatted exactly the same. Having this consistency, no matter if you are storing pure dates, or date times, will have your clients singing your praise.","markups":[{"type":3,"start":96,"end":105,"href":"https://momentjs.com/","title":"","rel":"","anchorType":0}]},{"name":"ebda","type":1,"text":"For the null values, we have chosen to convert all null values to an empty string for our client to consume. You can see how easy it is with this function to define the exact schema you want for every data type. Now your clients can consume this data in a standardized fashion without having to worry about special edge cases for attributes that are similar yet different.","markups":[{"type":10,"start":8,"end":12},{"type":10,"start":51,"end":55}]},{"name":"7258","type":1,"text":"Now let’s look at serializing a whole instance worth of attributes.","markups":[]},{"name":"84ef","type":8,"text":"// src/helper/serialize/instance.js","markups":[]},{"name":"fc8d","type":8,"text":"import attribute from './attribute';","markups":[]},{"name":"8041","type":8,"text":"/**\n * Serialize an instance according to the provided options.\n *\n * @param {Object} instance Sequelize instance to be serialized\n * @param {Object} options Options indicating how to serialize the instance.\n * @param {[String]} options.attributes A whitelist of attributes to serialize.","markups":[{"type":3,"start":70,"end":76,"href":"http://twitter.com/param","title":"Twitter profile for @param","rel":"","anchorType":0},{"type":3,"start":134,"end":140,"href":"http://twitter.com/param","title":"Twitter profile for @param","rel":"","anchorType":0},{"type":3,"start":211,"end":217,"href":"http://twitter.com/param","title":"Twitter profile for @param","rel":"","anchorType":0}]},{"name":"3ccb","type":8,"text":"* @return {Object} The serialized object\n */\nexport default async (instance, options = {}) =\x3e {\n  if (!instance) {\n    return null;\n  }","markups":[{"type":3,"start":2,"end":9,"href":"http://twitter.com/return","title":"Twitter profile for @return","rel":"","anchorType":0}]},{"name":"ac61","type":8,"text":"  const result = {};","markups":[]},{"name":"b559","type":8,"text":"  // Serialize all attributes\n  const attributes = options.attributes || [];","markups":[]},{"name":"635e","type":8,"text":"  for (const attribute of attributes) {\n    result[attribute] = await attribute(instance[attribute]);\n  }","markups":[]},{"name":"9032","type":8,"text":"  return result;\n};","markups":[]},{"name":"443f","type":1,"text":"This method takes care of a lot of use cases for us by allowing a “whitelist” of attributes to be passed in. The instance provided will only have its attributes serialized which appear in this whitelist. This allows you to hide protected data store data, such as password hashes.","markups":[]},{"name":"f009","type":1,"text":"Pretty simple right?","markups":[]},{"name":"8684","type":1,"text":"Let’s make it even simpler. Instead of having to use a global helper file like the one we defined above, wouldn’t it be nice if youcould just take and instance and do user.serialize()? Let’s set that up.","markups":[{"type":10,"start":167,"end":183}]},{"name":"e2e2","type":8,"text":"// src/helper/serialize/factory.js","markups":[]},{"name":"e1ed","type":8,"text":"import instance from './instance';","markups":[]},{"name":"e0e2","type":8,"text":"/**\n * Return a function for Sequelize instances to serialize themselves.\n *\n * @param {Object|Func} options Object of options\n * @param {Array[String]} options.attributes Whitelisted array of attributes\n * @param {Array[String]} options.associations Whitelisted array of associations\n *\n * @return {Func} (options) serializer function\n */\nexport default (options = {}) =\x3e\n  async function serialize(options) {\n    return instance(this, options);\n  };","markups":[{"type":3,"start":80,"end":86,"href":"http://twitter.com/param","title":"Twitter profile for @param","rel":"","anchorType":0},{"type":3,"start":130,"end":136,"href":"http://twitter.com/param","title":"Twitter profile for @param","rel":"","anchorType":0},{"type":3,"start":207,"end":213,"href":"http://twitter.com/param","title":"Twitter profile for @param","rel":"","anchorType":0},{"type":3,"start":291,"end":298,"href":"http://twitter.com/return","title":"Twitter profile for @return","rel":"","anchorType":0}]},{"name":"bd74","type":1,"text":"This factory just gives us a function which calls the instance function we defined above, with the instance to be serialized set to this. Remember, this will be our instance.","markups":[{"type":10,"start":54,"end":62},{"type":10,"start":132,"end":136},{"type":10,"start":148,"end":152}]},{"name":"7eb4","type":1,"text":"Now, use this factory and set up the instance method for each one of our models.","markups":[]},{"name":"124e","type":8,"text":"// src/models/index.js","markups":[]},{"name":"50fd","type":8,"text":"import factory from 'src/helper/serialize/factory';","markups":[]},{"name":"de44","type":8,"text":"...","markups":[]},{"name":"8ac2","type":8,"text":"// Add serialize instance method\nlet options = {};","markups":[]},{"name":"9867","type":8,"text":"try {\n  options = require(\n    path.join(__dirname, modelName, 'serializer.js')\n  ).default;\n} catch (err) {\n  // no-op\n}","markups":[]},{"name":"8f0f","type":8,"text":"model.Instance.prototype.serialize = factory(options);","markups":[]},{"name":"c4bb","type":8,"text":"...","markups":[]},{"name":"536e","type":1,"text":"The above is meant to take place while each model is being loaded by Sequelize, typically done in src/models/index.js. You can see that we are also loading a serialize.js file for each model. This file should export an object which has the options needed for serialization of that model. For example, a src/models/user/serialize.js file might look like:","markups":[{"type":10,"start":98,"end":117},{"type":10,"start":158,"end":170},{"type":10,"start":303,"end":331}]},{"name":"24e7","type":8,"text":"export default  {\n  attributes: [\n    'first_name',\n    'id',\n    'last_name',\n  ],\n};","markups":[]},{"name":"ab6a","type":1,"text":"Now when we have a user instance, we can call user.serialize() and expect an object with just first_name, id, and last_name in it, regardless of what else might be going on with the user model.","markups":[{"type":10,"start":19,"end":23},{"type":10,"start":46,"end":62},{"type":10,"start":94,"end":104},{"type":10,"start":106,"end":108},{"type":10,"start":114,"end":123}]},{"name":"8d88","type":1,"text":"Slightly more advanced serialization might be to include related entities in the response.","markups":[]},{"name":"3165","type":1,"text":"Suppose a book has one author. It would be nice to be able to nest the author information in the response of a client requesting information about a book. It’s surprisingly easy to do this with Sequelize. Just add the following to your instance.js serialization function:","markups":[{"type":10,"start":236,"end":247}]},{"name":"d45c","type":8,"text":"// src/helper/serialize/instance.js","markups":[]},{"name":"630f","type":8,"text":"import snakeCase from 'lodash/snakeCase';","markups":[]},{"name":"24c7","type":8,"text":"...","markups":[]},{"name":"d5e9","type":8,"text":"const associations = settings.associations || [];","markups":[]},{"name":"f642","type":8,"text":"await Promise.all(associations.map(async (association) =\x3e {\n  const relative = instance[association];","markups":[]},{"name":"34e7","type":8,"text":"  if (!relative) return null;","markups":[]},{"name":"4bbf","type":8,"text":"  result[snakeCase(association).toLowerCase()] = relative ?\n    await relative.serialize() : null;\n  }\n}));","markups":[]},{"name":"a71f","type":8,"text":"...","markups":[]},{"name":"ac22","type":1,"text":"Now we can provide an associations array in our serialization options, which will be used to look for those associations on our instance, serialize them based on their own serialization options, and then nest the results for us.","markups":[{"type":10,"start":22,"end":34}]},{"name":"3ea3","type":1,"text":"Note: for the above to work, the associated model must be eager loaded (the instance of book should have book.Author already loaded in memory). This can be accomplished through Sequelize’s eager loading techniques. The code could easily be modified to load the associated data at this point instead of using eager loading, but that is left as an exercise to the reader.","markups":[{"type":3,"start":177,"end":213,"href":"http://docs.sequelizejs.com/manual/tutorial/models-usage.html#eager-loading","title":"","rel":"","anchorType":0},{"type":2,"start":0,"end":369}]},{"name":"bd2a","type":1,"text":"The results of the association being serialized would look something like:","markups":[]},{"name":"110c","type":8,"text":"{\n  title: 'The Old Man and the Sea',\n  author: {\n    first_name: 'Ernest',\n    id: 1,\n    last_name: 'Hemingway',\n  }\n}","markups":[]},{"name":"a179","type":1,"text":"given a book/serialize.js file that looked like this:","markups":[{"type":10,"start":8,"end":25}]},{"name":"3a5e","type":8,"text":"export default {\n  attributes: [\n    'title',\n  ],\n  associations: [\n    'Author',\n  ],\n};","markups":[]},{"name":"cd5c","type":1,"text":"Now you are in full control of how data is being presented to requesting clients!","markups":[]},{"name":"0d8e","type":1,"text":"You could take this serializer architecture one step further, allowing you to address even more cases around permissions and authentication, by simply turning the any model'sserialize.js file into a function. These functions could accept the Express req object, the current user, or whatever else you would need to determine what data to present to the client.","markups":[{"type":10,"start":174,"end":186},{"type":10,"start":250,"end":253}]},{"name":"d78b","type":1,"text":"For example, you could add an extra field to the response, if the currently authenticated user is an admin of your system like so:","markups":[]},{"name":"0583","type":8,"text":"// src/models/user/serialize.js","markups":[]},{"name":"ffa2","type":8,"text":"export default async (currentUser) =\x3e {\n  const result = {\n    attributes: [\n      'first_name',\n      'id',\n      'last_name',\n    ],\n  };","markups":[]},{"name":"6a0b","type":8,"text":"  if (currentUser.type, 'admin') {\n    result.attributes.push('some_private_attribute');\n  }","markups":[]},{"name":"69f8","type":8,"text":"  return result;\n};","markups":[]},{"name":"4667","type":1,"text":"Now when the user is an admin we are letting them see some_private_attribute on all users. You will of course need to update your logic in src/helper/serialize/instance.js to interpret the options as a function which returns an object instead of an object itself, but that is straightforward.","markups":[{"type":10,"start":24,"end":29},{"type":10,"start":54,"end":76},{"type":10,"start":139,"end":171}]},{"name":"c0bd","type":1,"text":"That’s it! Now you are all prepared to take your Sequelize data models, and convert them into properly formatted responses for any client using your API.","markups":[]},{"name":"e5b9","type":1,"text":"Stay Riipe!","markups":[]}],"sections":[{"name":"d267","startIndex":0},{"name":"3451","startIndex":9},{"name":"647a","startIndex":63},{"name":"51a2","startIndex":70}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"1*xzAyItlS7rT6rvNM54QpiQ.png","filter":"","backgroundSize":"","originalWidth":512,"originalHeight":203,"strategy":"resample","height":0,"width":0},"wordCount":1448,"imageCount":1,"readingTime":5.664150943396226,"subtitle":"At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data. A key part of serving this data, as with any…","publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":8,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"javascript","name":"JavaScript","postCount":87522,"metadata":{"postCount":87522,"coverImage":{"id":"1*JU0H7_5gWbOVT1XCy525YA.png","originalWidth":1400,"originalHeight":500,"isFeatured":true}},"type":"Tag"},{"slug":"sequelize","name":"Sequelize","postCount":171,"metadata":{"postCount":171,"coverImage":{"id":"1*CBnHTDrxZr552WfkcrC13Q.png","originalWidth":299,"originalHeight":368}},"type":"Tag"},{"slug":"serialization","name":"Serialization","postCount":56,"metadata":{"postCount":56,"coverImage":{"id":"1*zBVhkktTW2yTGYuK2NL98w.jpeg","originalWidth":500,"originalHeight":281,"isFeatured":true}},"type":"Tag"},{"slug":"nodejs","name":"Nodejs","postCount":16947,"metadata":{"postCount":16947,"coverImage":{"id":"1*zDY1styY9gAbl9DEeAS6DA.jpeg","originalWidth":1920,"originalHeight":985}},"type":"Tag"},{"slug":"software-development","name":"Software Development","postCount":56006,"metadata":{"postCount":56006,"coverImage":{"id":"1*tkFAvJli20tXxCehZcaEgA.jpeg","originalWidth":1200,"originalHeight":444,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[{"url":"https://expressjs.com/","alts":[],"httpStatus":200},{"url":"https://momentjs.com/","alts":[],"httpStatus":200},{"url":"http://twitter.com/param","alts":[],"httpStatus":200},{"url":"http://twitter.com/return","alts":[],"httpStatus":200},{"url":"http://docs.sequelizejs.com/manual/tutorial/models-usage.html#eager-loading","alts":[],"httpStatus":200},{"url":"http://docs.sequelizejs.com/","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1520552588816},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":33,"sectionCount":4,"readingList":0,"topics":[]},"coverless":true,"slug":"serializing-data-with-sequelize","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"serializing-data-with-sequelize-6c3a9633797a","previewContent":{"bodyModel":{"paragraphs":[{"name":"1947","type":3,"text":"Serializing Data with Sequelize","markups":[],"alignment":1},{"name":"2862","type":4,"text":"","markups":[],"layout":9,"metadata":{"id":"1*xzAyItlS7rT6rvNM54QpiQ.png","originalWidth":512,"originalHeight":203}},{"name":"ecaa","type":1,"text":"At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data. A key…","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"At Riipen, we have the not so unique setup of using a REST-ful API to power a lot of our data. A key part of serving this data, as with any…"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a","approvedHomeCollectionId":"6f9d9cd1d7d4","approvedHomeCollection":{"id":"6f9d9cd1d7d4","name":"Riipen Engineering","slug":"riipen-engineering","tags":["ENGINEERING","COMPUTER SCIENCE","WEB DEVELOPMENT"],"creatorId":"5e1040ba2b3f","description":"A discussion of Riipen engineering and technology","shortDescription":"A discussion of Riipen engineering and technology","image":{"imageId":"1*lewofgnNzvPacnu3ZECO-A.png","filter":"","backgroundSize":"","originalWidth":67,"originalHeight":67,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":40,"activeAt":1550606694394},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*c-CjHv33obLOtwHalj1Vfg.png","filter":"","backgroundSize":"","originalWidth":545,"originalHeight":204,"strategy":"resample","height":0,"width":0},"twitterUsername":"riipen","facebookPageName":"riipen","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Riipen Engineering","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":3,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FF2C8DDC","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF2C8DDC","point":0},{"color":"#FF3083CA","point":0.1},{"color":"#FF3179B7","point":0.2},{"color":"#FF316FA5","point":0.3},{"color":"#FF306493","point":0.4},{"color":"#FF2E5981","point":0.5},{"color":"#FF2A4E6F","point":0.6},{"color":"#FF26425D","point":0.7},{"color":"#FF20364B","point":0.8},{"color":"#FF192939","point":0.9},{"color":"#FF101B27","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF2C8DDC","point":0},{"color":"#FF4B9AE2","point":0.1},{"color":"#FF63A7E8","point":0.2},{"color":"#FF78B3ED","point":0.3},{"color":"#FF8CBFF3","point":0.4},{"color":"#FF9FCBF8","point":0.5},{"color":"#FFB1D6FE","point":0.6},{"color":"#FFC2E1FF","point":0.7},{"color":"#FFD3ECFF","point":0.8},{"color":"#FFE4F7FF","point":0.9},{"color":"#FFF4FFFF","point":1}],"backgroundColor":"#FF2C8DDC"},"highlightSpectrum":{"colorPoints":[{"color":"#FFE4F5FF","point":0},{"color":"#FFDFF4FF","point":0.1},{"color":"#FFDAF3FF","point":0.2},{"color":"#FFD4F2FF","point":0.3},{"color":"#FFCFF0FF","point":0.4},{"color":"#FFC9EFFF","point":0.5},{"color":"#FFC3EEFF","point":0.6},{"color":"#FFBDEDFF","point":0.7},{"color":"#FFB7EBFF","point":0.8},{"color":"#FFB0EAFF","point":0.9},{"color":"#FFAAE8FF","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[{"type":5,"title":"All Stories","url":"https://medium.com/riipen-engineering/archive"},{"type":6,"title":"About","url":"https://medium.com/riipen-engineering/about"}],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Riipen Engineering","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":5},"type":"Collection"},"newsletterId":"","webCanonicalUrl":"https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a","mediumUrl":"https://medium.com/riipen-engineering/serializing-data-with-sequelize-6c3a9633797a","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[{"user":{"userId":"216d78f9cf44","name":"Michael MacPherson","username":"michael.macpherson","createdAt":1503328785933,"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","backgroundImageId":"","bio":"","twitterScreenName":"","facebookAccountId":"","allowNotes":1,"mediumMemberAt":0,"isNsfw":false,"isQuarantined":false,"type":"User"},"state":"visible"}],"collectionUserRelations":[{"collectionId":"9b33e9946060","userId":"851b404bd899","role":"ADMIN"}],"mode":null,"references":{"User":{"5e1040ba2b3f":{"userId":"5e1040ba2b3f","name":"Jordan Ell","username":"jordanell","createdAt":1503329639679,"imageId":"1*9IAyc71HnTtzIZEqjXwebQ.png","backgroundImageId":"","bio":"Director of Technology at Riipen.","twitterScreenName":"jordanelltweets","socialStats":{"userId":"5e1040ba2b3f","usersFollowedCount":6,"usersFollowedByCount":37,"type":"SocialStats"},"social":{"userId":"851b404bd899","targetUserId":"5e1040ba2b3f","type":"Social"},"facebookAccountId":"","allowNotes":1,"mediumMemberAt":0,"isNsfw":false,"isQuarantined":false,"type":"User"}},"Collection":{"6f9d9cd1d7d4":{"id":"6f9d9cd1d7d4","name":"Riipen Engineering","slug":"riipen-engineering","tags":["ENGINEERING","COMPUTER SCIENCE","WEB DEVELOPMENT"],"creatorId":"5e1040ba2b3f","description":"A discussion of Riipen engineering and technology","shortDescription":"A discussion of Riipen engineering and technology","image":{"imageId":"1*lewofgnNzvPacnu3ZECO-A.png","filter":"","backgroundSize":"","originalWidth":67,"originalHeight":67,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":40,"activeAt":1550606694394},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*c-CjHv33obLOtwHalj1Vfg.png","filter":"","backgroundSize":"","originalWidth":545,"originalHeight":204,"strategy":"resample","height":0,"width":0},"twitterUsername":"riipen","facebookPageName":"riipen","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Riipen Engineering","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":3,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FF2C8DDC","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF2C8DDC","point":0},{"color":"#FF3083CA","point":0.1},{"color":"#FF3179B7","point":0.2},{"color":"#FF316FA5","point":0.3},{"color":"#FF306493","point":0.4},{"color":"#FF2E5981","point":0.5},{"color":"#FF2A4E6F","point":0.6},{"color":"#FF26425D","point":0.7},{"color":"#FF20364B","point":0.8},{"color":"#FF192939","point":0.9},{"color":"#FF101B27","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF2C8DDC","point":0},{"color":"#FF4B9AE2","point":0.1},{"color":"#FF63A7E8","point":0.2},{"color":"#FF78B3ED","point":0.3},{"color":"#FF8CBFF3","point":0.4},{"color":"#FF9FCBF8","point":0.5},{"color":"#FFB1D6FE","point":0.6},{"color":"#FFC2E1FF","point":0.7},{"color":"#FFD3ECFF","point":0.8},{"color":"#FFE4F7FF","point":0.9},{"color":"#FFF4FFFF","point":1}],"backgroundColor":"#FF2C8DDC"},"highlightSpectrum":{"colorPoints":[{"color":"#FFE4F5FF","point":0},{"color":"#FFDFF4FF","point":0.1},{"color":"#FFDAF3FF","point":0.2},{"color":"#FFD4F2FF","point":0.3},{"color":"#FFCFF0FF","point":0.4},{"color":"#FFC9EFFF","point":0.5},{"color":"#FFC3EEFF","point":0.6},{"color":"#FFBDEDFF","point":0.7},{"color":"#FFB7EBFF","point":0.8},{"color":"#FFB0EAFF","point":0.9},{"color":"#FFAAE8FF","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[{"type":5,"title":"All Stories","url":"https://medium.com/riipen-engineering/archive"},{"type":6,"title":"About","url":"https://medium.com/riipen-engineering/about"}],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Riipen Engineering","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":5},"type":"Collection"}},"Social":{"5e1040ba2b3f":{"userId":"851b404bd899","targetUserId":"5e1040ba2b3f","type":"Social"}},"SocialStats":{"5e1040ba2b3f":{"userId":"5e1040ba2b3f","usersFollowedCount":6,"usersFollowedByCount":37,"type":"SocialStats"}}}})
// ]]></script><script id="parsely-cfg" src="//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js"></script><script type="text/javascript">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0); branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled':  false }, function(err, data) {});</script></body></html>